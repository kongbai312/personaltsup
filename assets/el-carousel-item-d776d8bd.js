import{ax as ie,ar as Ee,j as ue,ao as Ne,l as b,k as P,f as e,K as U,o as ce,U as Me,M as Te,L as $e,O as Ae,Q as ve,d as q,h as fe,b as A,c as V,e as F,i as se,w as J,v as X,y as B,x as j,s as Q,B as Y,T as oe,A as K,r as de,ak as me,P as Be,a1 as He,z as Le,_ as he,H as Oe,J as Pe,aS as Ve,aT as ze,D as Re,$ as De}from"./index-ae23ef46.js";import{E as ne,h as Ue,b as je}from"./index-a21c3982.js";import{f as Ke}from"./vnode-a0a03cf1.js";import{t as re}from"./throttle-bde9afc3.js";const We=(n,k,r)=>Ke(n.subTree).filter(u=>{var a;return Ee(u)&&((a=u.type)==null?void 0:a.name)===k&&!!u.component}).map(u=>u.component.uid).map(u=>r[u]).filter(u=>!!u),Fe=(n,k)=>{const r={},s=ie([]);return{children:s,addChild:a=>{r[a.uid]=a,s.value=We(n,k,r)},removeChild:a=>{delete r[a],s.value=s.value.filter(d=>d.uid!==a)}}},Je=ue({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),Qe={change:(n,k)=>[n,k].every(Ne)},pe=Symbol("carouselContextKey"),le=300,Xe=(n,k,r)=>{const{children:s,addChild:y,removeChild:u}=Fe(ve(),"ElCarouselItem"),a=b(-1),d=b(null),g=b(!1),C=b(),I=b(0),E=P(()=>n.arrow!=="never"&&!e(h)),M=P(()=>s.value.some(t=>t.props.label.toString().length>0)),_=P(()=>n.type==="card"),h=P(()=>n.direction==="vertical"),H=P(()=>n.height!=="auto"?{height:n.height}:{height:`${I.value}px`,overflow:"hidden"}),S=re(t=>{l(t)},le,{trailing:!0}),N=re(t=>{z(t)},le);function T(){d.value&&(clearInterval(d.value),d.value=null)}function L(){n.interval<=0||!n.autoplay||d.value||(d.value=setInterval(()=>i(),n.interval))}const i=()=>{a.value<s.value.length-1?a.value=a.value+1:n.loop&&(a.value=0)};function l(t){if(Ae(t)){const R=s.value.filter(W=>W.props.name===t);R.length>0&&(t=s.value.indexOf(R[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const m=s.value.length,$=a.value;t<0?a.value=n.loop?m-1:0:t>=m?a.value=n.loop?0:m-1:a.value=t,$===a.value&&f($),x()}function f(t){s.value.forEach((m,$)=>{m.translateItem($,a.value,t)})}function o(t,m){var $,R,W,ee;const D=e(s),te=D.length;if(te===0||!t.states.inStage)return!1;const Ie=m+1,we=m-1,ae=te-1,be=D[ae].states.active,ke=D[0].states.active,_e=(R=($=D[Ie])==null?void 0:$.states)==null?void 0:R.active,Se=(ee=(W=D[we])==null?void 0:W.states)==null?void 0:ee.active;return m===ae&&ke||_e?"left":m===0&&be||Se?"right":!1}function w(){g.value=!0,n.pauseOnHover&&T()}function O(){g.value=!1,L()}function c(t){e(h)||s.value.forEach((m,$)=>{t===o(m,$)&&(m.states.hover=!0)})}function v(){e(h)||s.value.forEach(t=>{t.states.hover=!1})}function p(t){a.value=t}function z(t){n.trigger==="hover"&&t!==a.value&&(a.value=t)}function G(){l(a.value-1)}function ge(){l(a.value+1)}function x(){T(),L()}function Ce(t){n.height==="auto"&&(I.value=t)}U(()=>a.value,(t,m)=>{f(m),m>-1&&k("change",t,m)}),U(()=>n.autoplay,t=>{t?L():T()}),U(()=>n.loop,()=>{l(a.value)}),U(()=>n.interval,()=>{x()}),U(()=>s.value,()=>{s.value.length>0&&l(n.initialIndex)});const Z=ie();return ce(()=>{Z.value=Me(C.value,()=>{f()}),L()}),Te(()=>{T(),C.value&&Z.value&&Z.value.stop()}),$e(pe,{root:C,isCardType:_,isVertical:h,items:s,loop:n.loop,addItem:y,removeItem:u,setActiveItem:l,setContainerHeight:Ce}),{root:C,activeIndex:a,arrowDisplay:E,hasLabel:M,hover:g,isCardType:_,items:s,isVertical:h,containerStyle:H,handleButtonEnter:c,handleButtonLeave:v,handleIndicatorClick:p,handleMouseEnter:w,handleMouseLeave:O,setActiveItem:l,prev:G,next:ge,throttledArrowClick:S,throttledIndicatorHover:N}},Ye=["onMouseenter","onClick"],qe={key:0},Ge="ElCarousel",Ze=q({name:Ge}),xe=q({...Ze,props:Je,emits:Qe,setup(n,{expose:k,emit:r}){const s=n,{root:y,activeIndex:u,arrowDisplay:a,hasLabel:d,hover:g,isCardType:C,items:I,isVertical:E,containerStyle:M,handleButtonEnter:_,handleButtonLeave:h,handleIndicatorClick:H,handleMouseEnter:S,handleMouseLeave:N,setActiveItem:T,prev:L,next:i,throttledArrowClick:l,throttledIndicatorHover:f}=Xe(s,r),o=fe("carousel"),w=P(()=>{const c=[o.b(),o.m(s.direction)];return e(C)&&c.push(o.m("card")),c}),O=P(()=>{const c=[o.e("indicators"),o.em("indicators",s.direction)];return e(d)&&c.push(o.em("indicators","labels")),s.indicatorPosition==="outside"&&c.push(o.em("indicators","outside")),e(E)&&c.push(o.em("indicators","right")),c});return k({setActiveItem:T,prev:L,next:i}),(c,v)=>(A(),V("div",{ref_key:"root",ref:y,class:B(e(w)),onMouseenter:v[6]||(v[6]=j((...p)=>e(S)&&e(S)(...p),["stop"])),onMouseleave:v[7]||(v[7]=j((...p)=>e(N)&&e(N)(...p),["stop"]))},[F("div",{class:B(e(o).e("container")),style:me(e(M))},[e(a)?(A(),se(oe,{key:0,name:"carousel-arrow-left",persisted:""},{default:J(()=>[X(F("button",{type:"button",class:B([e(o).e("arrow"),e(o).em("arrow","left")]),onMouseenter:v[0]||(v[0]=p=>e(_)("left")),onMouseleave:v[1]||(v[1]=(...p)=>e(h)&&e(h)(...p)),onClick:v[2]||(v[2]=j(p=>e(l)(e(u)-1),["stop"]))},[Q(e(ne),null,{default:J(()=>[Q(e(Ue))]),_:1})],34),[[Y,(c.arrow==="always"||e(g))&&(s.loop||e(u)>0)]])]),_:1})):K("v-if",!0),e(a)?(A(),se(oe,{key:1,name:"carousel-arrow-right",persisted:""},{default:J(()=>[X(F("button",{type:"button",class:B([e(o).e("arrow"),e(o).em("arrow","right")]),onMouseenter:v[3]||(v[3]=p=>e(_)("right")),onMouseleave:v[4]||(v[4]=(...p)=>e(h)&&e(h)(...p)),onClick:v[5]||(v[5]=j(p=>e(l)(e(u)+1),["stop"]))},[Q(e(ne),null,{default:J(()=>[Q(e(je))]),_:1})],34),[[Y,(c.arrow==="always"||e(g))&&(s.loop||e(u)<e(I).length-1)]])]),_:1})):K("v-if",!0),de(c.$slots,"default")],6),c.indicatorPosition!=="none"?(A(),V("ul",{key:0,class:B(e(O))},[(A(!0),V(Be,null,He(e(I),(p,z)=>(A(),V("li",{key:z,class:B([e(o).e("indicator"),e(o).em("indicator",c.direction),e(o).is("active",z===e(u))]),onMouseenter:G=>e(f)(z),onClick:j(G=>e(H)(z),["stop"])},[F("button",{class:B(e(o).e("button"))},[e(d)?(A(),V("span",qe,Le(p.props.label),1)):K("v-if",!0)],2)],42,Ye))),128))],2)):K("v-if",!0)],34))}});var et=he(xe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const tt=ue({name:{type:String,default:""},label:{type:[String,Number],default:""}}),at=(n,k)=>{const r=Oe(pe),s=ve(),y=.83,u=b(),a=b(!1),d=b(0),g=b(1),C=b(!1),I=b(!1),E=b(!1),M=b(!1),{isCardType:_,isVertical:h}=r;function H(i,l,f){const o=f-1,w=l-1,O=l+1,c=f/2;return l===0&&i===o?-1:l===o&&i===0?f:i<w&&l-i>=c?f+1:i>O&&i-l>=c?-2:i}function S(i,l){var f,o;const w=e(h)?((f=r.root.value)==null?void 0:f.offsetHeight)||0:((o=r.root.value)==null?void 0:o.offsetWidth)||0;return E.value?w*((2-y)*(i-l)+1)/4:i<l?-(1+y)*w/4:(3+y)*w/4}function N(i,l,f){const o=r.root.value;return o?((f?o.offsetHeight:o.offsetWidth)||0)*(i-l):0}const T=(i,l,f)=>{var o;const w=e(_),O=(o=r.items.value.length)!=null?o:Number.NaN,c=i===l;!w&&!ze(f)&&(M.value=c||i===f),!c&&O>2&&r.loop&&(i=H(i,l,O));const v=e(h);C.value=c,w?(E.value=Math.round(Math.abs(i-l))<=1,d.value=S(i,l),g.value=e(C)?1:y):d.value=N(i,l,v),I.value=!0,c&&u.value&&r.setContainerHeight(u.value.offsetHeight)};function L(){if(r&&e(_)){const i=r.items.value.findIndex(({uid:l})=>l===s.uid);r.setActiveItem(i)}}return ce(()=>{r.addItem({props:n,states:Pe({hover:a,translate:d,scale:g,active:C,ready:I,inStage:E,animating:M}),uid:s.uid,translateItem:T})}),Ve(()=>{r.removeItem(s.uid)}),{carouselItemRef:u,active:C,animating:M,hover:a,inStage:E,isVertical:h,translate:d,isCardType:_,scale:g,ready:I,handleItemClick:L}},st=q({name:"ElCarouselItem"}),ot=q({...st,props:tt,setup(n){const k=n,r=fe("carousel"),{carouselItemRef:s,active:y,animating:u,hover:a,inStage:d,isVertical:g,translate:C,isCardType:I,scale:E,ready:M,handleItemClick:_}=at(k),h=P(()=>{const S=`${`translate${e(g)?"Y":"X"}`}(${e(C)}px)`,N=`scale(${e(E)})`;return{transform:[S,N].join(" ")}});return(H,S)=>X((A(),V("div",{ref_key:"carouselItemRef",ref:s,class:B([e(r).e("item"),e(r).is("active",e(y)),e(r).is("in-stage",e(d)),e(r).is("hover",e(a)),e(r).is("animating",e(u)),{[e(r).em("item","card")]:e(I),[e(r).em("item","card-vertical")]:e(I)&&e(g)}]),style:me(e(h)),onClick:S[0]||(S[0]=(...N)=>e(_)&&e(_)(...N))},[e(I)?X((A(),V("div",{key:0,class:B(e(r).e("mask"))},null,2)),[[Y,!e(y)]]):K("v-if",!0),de(H.$slots,"default")],6)),[[Y,e(M)]])}});var ye=he(ot,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const ut=Re(et,{CarouselItem:ye}),ct=De(ye);export{ut as E,ct as a};
